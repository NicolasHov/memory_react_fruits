(this.webpackJsonpmemory_react_the_3=this.webpackJsonpmemory_react_the_3||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(6),a=n.n(o),i=(n(13),n(3)),u=n(8),s=n(7),l=(n(14),n(0)),h=function(e){var t=e.x,n=e.y,r=e.callback,c=e.state,o=e.image;return Object(l.jsx)("button",{onClick:function(){return r(t,n)},style:{width:"100px",height:"100px",background:"hidden"!==c?"url(".concat(o,")"):"none",objectFit:"fill"}})},f=function(){var e=Object(r.useState)(function(){var e=function(){var e=[];return["pomme-rouge","banane","orange","citron-vert","grenade","abricot","citron","fraise","pomme-verte","p\xeache","raisin","past\xe8que","prune","poire","cerise-rouge","framboise","mangue","cerise-jaune"].forEach((function(t,n){e.push({state:"hidden",value:t,image:n<10?"parts-0"+n+".png":"parts-"+n+".png"})})),e}();return function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}(e.concat(Object(s.a)(e.map((function(e){return Object(u.a)({},e)})))))}()),t=Object(i.a)(e,2),n=t[0],c=t[1],o=function(e,t){return 6*e+t},a=Object(r.useState)(!1),f=Object(i.a)(a,2),d=f[0],j=f[1],b=Object(r.useState)(60),v=Object(i.a)(b,2),g=v[0],m=v[1];Object(r.useEffect)((function(){d&&(g>0?setTimeout((function(){return m(g-1)}),1e3):(alert("YOU LOSE!"),j(!1),m(60)))}),[d,g]);var p,O,x=function(e,t){j(!0);var r=o(e,t),a=n[r];if("removed"!==a.state&&!(n.filter((function(e){return"revealed"===e.state})).length>=2&&"hidden"===a.state)){c(function(e,t){var n=Array.from(e);return n[t].state="hidden"===n[t].state?"revealed":"hidden",n}(n,r));var i=n.filter((function(e){return"revealed"===e.state}));2===i.length&&i[0].value===i[1].value&&i.forEach((function(e){e.state="removed"})),n.filter((function(e){return"removed"===e.state})).length===n.length&&(!function(e){var t=new Headers;t.append("Content-Type","application/json");var n=JSON.stringify({value:e});fetch("http://localhost:3000/api/scores/",{method:"POST",headers:t,body:n,redirect:"follow",mode:"cors"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}(g),alert("YOU WIN! Score: "+g))}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:(p=n,O=6,Array.from({length:Math.ceil(p.length/O)},(function(e,t){return p.slice(t*O,t*O+O)}))).map((function(e,t){return Object(l.jsx)("div",{children:e.map((function(e,n){return Object(l.jsx)(h,{x:t,y:n,value:e.value,callback:x,state:e.state,image:e.image},o(t,n))}))},t)}))}),Object(l.jsxs)("div",{children:["Countdown: ",g]}),Object(l.jsx)("div",{style:{width:.6*(60-g)+"rem",height:"3rem",backgroundColor:"red"}})]})},d=function(){var e,t=Object(r.useState)([]),n=Object(i.a)(t,2),c=n[0],o=n[1];return e=function(e){c.length||o(e.scores.sort((function(e,t){return Math.sign(t.value-e.value)})).slice(0,5))},fetch("http://localhost:3000/api/scores/",{method:"GET",redirect:"follow",mode:"cors"}).then((function(e){return e.text()})).then((function(t){return e(JSON.parse(t))})).catch((function(e){return console.log("error",e)})),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Last Scores"}),Object(l.jsx)("ul",{children:c.map((function(e){return Object(l.jsx)("li",{children:e.value},e._id)}))})]}),Object(l.jsx)(f,{})]})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),j()}},[[16,1,2]]]);
//# sourceMappingURL=main.a2155a50.chunk.js.map